@model IEnumerable<TOLEYIS.Models.AnlasmaliKurumlar>
@{
    Layout = null;
}

<div class="card" style=" margin-bottom: 30px; border-radius:8px;">
    <h5 class="card-header" style="border-radius: 5px; color: #fdfdfd; background-color: #212529; font-weight: 500; padding-block: 17px; ">ANLAŞMALI KURUMLAR <u style="float: right; text-transform: uppercase;">@ViewBag.il</u></h5>
    <br />

    <div class="card-body overflow-auto" style="height: 18rem; margin-top: -25px; ">
        <ul class="welcome-one__list" style="padding-left: 10px; margin-bottom: -30px; margin-top: auto;">

            @foreach (var m in Model)
            {
                <li><a href="#" class="view2" data-toggle="modal" data-target="/Bilgi/KurumPopup/@m.Id" style="color: #2c2734; cursor: revert; "><span class="icon-confirmation"></span> @m.Ad </a></li>
            }
        </ul>

    </div>
</div>

<div class="modal fade" id="modelView" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content" style=" margin-top: 25vh; ">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle" style=" margin-left: auto; "></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form method="post">
                <div class="modal-body">

                </div>
            </form>
        </div>
    </div>
</div>

<script>
    // a tagimizde bulunan .view classımıza click olduğunda
    $(".view2").on('click', function () {
        debugger;
        //data-target dan url mizi al
        var url = $(this).data("target");
        //bu urlimizi post et
        $.post(url, function (data) { })
            //eğer işlemimiz başarılı bir şekilde gerçekleşirse
            .done(function (data) {
                //gelen datayı .modal-body mizin içerise html olarak ekle
                $("#modelView .modal-body").html(data);
                //sonra da modalimizi göster
                $("#modelView").modal("show");
            })
            //eğer işlem başarısız olursa
            .fail(function () {
                //modalımızın bodysine Error! yaz
                $("#modelView .modal-body").text("Hata!!");
                //sonra da modalimizi göster
                $("#modelView").modal("show");
            })
    });
</script>

